<!doctype html>
<html lang="en">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- Font Awesome -->
    <link
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css"
    rel="stylesheet"
    />
    <!-- Google Fonts -->
    <link
    href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"
    rel="stylesheet"
    />
    <!-- MDB -->
    <link
    href="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.2/mdb.min.css"
    rel="stylesheet"
    />
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat&display=swap" rel="stylesheet">
    <title>Weather</title>
    <link rel="shortcut icon" href="{{ url_for('static', filename='favicon.png') }}">
    
</head>
<script
  type="text/javascript"
  src="https://cdnjs.cloudflare.com/ajax/libs/mdb-ui-kit/3.10.2/mdb.min.js"
></script>

<!-- Navbar -->
<nav class="navbar navbar-expand-lg bg-light navbar-light">
    <!-- Container wrapper -->
    <div class="container-fluid">
        

            <!-- Navbar brand -->
            <a class="navbar-brand" href="/">W E A T H E R</a>
                    <!-- Menu and Icons -->

                    <!-- Toggle button -->
                    <button
                    class="navbar-toggler"
                    type="button"
                    data-mdb-toggle="collapse"
                    data-mdb-target="#navbarSupportedContent"
                    aria-controls="navbarSupportedContent"
                    aria-expanded="false"
                    aria-label="Toggle navigation"
                    >
                        <i class="fas fa-bars" style="color: #4f4f4f"></i>
                    </button>

                    <!-- Collapsible wrapper -->
                    <div class="collapse navbar-collapse justify-content-end" id="navbarSupportedContent">
                
                        <ul class="navbar-nav d-flex flex-row me-1 justify-content-end">

                            <!-- Button trigger modal -->
                            <button type="button" class="btn btn-light shadow-0" data-mdb-toggle="modal" data-mdb-target="#exampleModal">
                                <i class="fas fa-cog fa-lg"></i>
                            </button>
                            
                            <!-- Modal -->
                            <div class="modal right fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true" data-mdb-backdrop="false" data-mdb-keyboard="true">
                                <div class="modal-dialog modal-side modal-top-right ">
                                    <div class="modal-content">
                                        <form name = "units_choice" method="POST">
                                            <div class="modal-body">
                                                <div class="col m-0 text-end">
                                                    <button type="button" class="btn-close justify-content-end" data-mdb-dismiss="modal" aria-label="Close"></button>
                                                </div>
                                                <div class="col mb-3 text-start">
                                                    <h5 class="mb-3 h5 fw-bold ">What units of measurement do you prefer?</h5>
                                                </div>
                                                <div class="col">
                                                    <!-- Default radio -->
                                                    <div class="form-check-inline">
                                                        <input class="form-check-input" type="radio" name="units_radio" id="units_radio1" value="metric" {{checked1}}/>
                                                        <label class="form-check-label" for="flexRadioDefault1"> <p class=" fw-light ">&#176;C,&nbsp;&nbsp;m/s,&nbsp;&nbsp;mmHg</p></label>
                                                    </div>
                                                    
                                                    <!-- Default checked radio -->
                                                    <div class="form-check-inline">
                                                        <input class="form-check-input" type="radio" name="units_radio" id="units_radio2" value="imperial" {{checked2}}/>
                                                        <label class="form-check-label" for="flexRadioDefault2"> <p class=" fw-light ">&#176;F,&nbsp;&nbsp;mph,&nbsp;&nbsp;inHg</p></label>
                                                    </div>
                                                </div>
                                                <div class="col text-end">
                                                    <!-- <button type="button" class="btn btn-white shadow-0" data-mdb-dismiss="modal"><i class="fas fa-times fa-lg"></i></button> -->
                                                    <button type="sumbit" class="btn btn-outline-black">Save</button>
                                                </div>
                                            </div>
                                        </form>
                                    </div>
                                </div>
                            </div>
                
                                <!-- Icons -->
                                <li class="nav-item me-3 me-lg-0">
                                    <a class="nav-link" href="#"><i class="fas fa-info pe-2"></i></a>
                                </li>
                                <li class="nav-item me-3 me-lg-0">
                                    <a class="nav-link" href="https://github.com/a13x37/flask-weather-app"><i class="fab fa-github pe-2"></i></a>
                                </li>
                                <!-- <li class="nav-item me-3 me-lg-0">
                                    <a class="nav-link" href="#"><i class="fab fa-linkedin pe-2"></i></a>
                                </li> -->
                                <li class="nav-item me-3 me-lg-0">
                                    <a class="nav-link" href="https://t.me/smirn0v"><i class="fab fa-telegram pe-2"></i></a>
                                </li>
                        
                        </ul>
                    </div>
            </div>
           
    </div>
    <!-- Container wrapper -->
</nav>
<!-- Navbar -->



<body> 

    <section class="vh-100">
        <div class="container py-4 h-100">
      
            <div class="row d-flex justify-content-center align-items-center">
                <div class="col-md-12 col-lg-5 col-xl-5">
                              

                    <div class="card mb-4" style="background-color:#fafafa;">
                        <div class="card-body ">

                            <form name="city_choice" method="POST">
            
                                <div class="input-group">
                                    <input type="search" class="form-control rounded" name="city" placeholder="Search" aria-label="Search" aria-describedby="search-addon" />
                                    <button type="sumbit" class="btn btn-outline-black">search</button>
                                </div>
                            </form>


                                
                        

                        </div>
                    </div>
                    
                    {% for weather in weather_data %}

                        <div class="card mb-4" style="background-color:#fafafa;"> <!-- 1 -->
                            <div class="card-body pt-1 pb-2"> <!-- 2 -->
                                <div class="row">
                                    <div class="col-12 align-items-center" style="height: 20px;">
                                        <div class="media-right d-flex align-items-end justify-content-end">
                                            <a href="{{ url_for('delete_city', name=weather.0.0.city) }}">
                                                <i class="fas fa-minus fa-lg" style="color: #c4c4c4"></i>                 
                                                </a>
                                        </div>
                                    </div>

                                    <div class="col-5">
                                        <h5 class="card-title">{{ weather.0.0.city }}</h5>
                                        <h6 class="card-subtitle mb-2 text-muted">{{ weather.0.0.description }}</h6>
                                    </div>
                                    <div class="col-5 d-flex align-items-center justify-content-end">
                                        <h2 class="card-title text-center"><font size="6" style="color: #4f4f4f;" face="Montserrat">{{ weather.0.0.temp}} {{weather.0.0.temp_unit}}</font></h2>
                                    </div>
                                    
                                    <div class="col-2">
                                        <figure class="image d-flex align-items-center justify-content-center mb-2">
                                            <img src="http://openweathermap.org/img/wn/{{ weather.0.0.icon }}.png" alt="Image">
                                        </figure>
                                    </div>

                                    <div class="col-12">
                                        <div class="row">
                                            <div class="col-4 text-start p-0">
                                                <div><i class="fas fa-wind fa-fw" style="color: #868B94;"></i> <span class="ms-0"> {{weather.0.0.wind_speed}} {{weather.0.0.wind_unit}} {{weather.0.0.wind_dir}}</span></div>
                                            </div>
                                            <div class="col-3 text-center p-0">
                                                <div><i class="fas fa-tint fa-fw" style="color: #868B94;"></i> <span class="ms-0"> {{weather.0.0.humidity}} %</span></div>
                                            </div>
                                            <div class="col-5 text-center p-0">
                                                <div><i class="fas fa-compass fa-fw" style="color: #868B94;"></i> <span class="ms-0"> {{weather.0.0.pressure}} {{weather.0.0.pressure_unit}}</span></div>
                                            </div>
                                        </div>
                                    </div>
                                    <!-- accordion -->
                                    <div class="accordion accordion-flush" id="{{"accordionFlushExample"+weather.0.0.city}}">
                                        <div class="accordion-item">
                                          <h2 class="accordion-header " id="{{"flush-headingOne"+weather.0.0.city}}">
                                            <button
                                              class="accordion-button p-0 mt-1 collapsed text-center" 
                                              style="background-color:#fafafa;"
                                              display="block"
                                              type="button"
                                              data-mdb-toggle="collapse"
                                              data-mdb-target="{{"#flush-collapseOne"+weather.0.0.city}}"
                                              aria-expanded="false"
                                              aria-controls="{{"flush-collapseOne"+weather.0.0.city}}"
                                            >
                                            <!--<p class="mb-0"><font size="2" style="color: #4f4f4f;" face="Montserrat">weather forecast</font></p> -->
                                            </button>
                                          </h2>
                                          <div
                                            id="{{"flush-collapseOne"+weather.0.0.city}}"
                                            class="accordion-collapse collapse ms-0" style="background-color:#fafafa;"
                                            aria-labelledby="{{"flush-headingOne"+weather.0.0.city}}"
                                            data-mdb-parent="{{"#accordionFlushExample"+weather.0.0.city}}"
                                          >
                                            <div class="accordion-body p-0">
                                                <div class="col-12 pt-3"> 
                                                    <div class="row">
                                                    {% for day in weather.0[1:7] %}
                                                        <div class="col-2 mb-0 text-center p-0"> 
                                                            <h6 class="small text-muted mb-0">{{day.temp_day}}{{day.temp_unit}} </h6>
                                                            <figure class="image d-flex align-items-center justify-content-center mb-0">
                                                                <img src="http://openweathermap.org/img/wn/{{ day.icon }}.png" alt="Image">
                                                            </figure>                                                              
                                                            <p class="small mb-0"><strong>{{day.day_of_week}}</strong></p>
                                                            <p class="small text-muted"><strong>{{day.date}}</strong></p>
                                                        </div>
                                                    {% endfor %}
                        


                                                    </div>  
                                                </div>
                                                
                                            </div>
                                          </div>
                                        </div>
                                    </div> 
                                    <!-- accordion end-->

                                </div>
                                <!-- <div class="card-footer">forecast</div> -->
                            </div>
                        </div>

                    {% endfor %}
                    

                </div>
            </div>
      
        </div>
    </section>

    
</body>
</html>
